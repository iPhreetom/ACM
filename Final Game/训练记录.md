# 训练记录

## 2018 多校

### 第一场

```
A题（打表）分割数，乘积最大
	解法
		通过打表发现，只有xxx和xx(2x)两种答案分布，所以直接问能不能%3或%4即可。
	反思
		打表 改进
			去除无效的信息，无解的直接不输出。
			尽量一行打完，用分隔符隔开，容易看出规律。
				第一个是第几个数，接下来是信息。
			压缩信息。
C题（贪心）三角形构造
	解法
		排序后，从上往下，从左往右取点即可
	反思
		写程序的时候，要分析自己要什么，怎么样实现比较简单
			比如，最后的答案输出，用queue和用计数cnt%3，都可以实现
                但是会写很多if else，很难看
                但是，如果我只是想要顺序输出，三个一组，那么塞进数组里，i+=3即可
			比如，发现直接用vector排序就能够轻松写完，不需要离散化或者Map一类的操作
K题（模拟）时区变换
	解法
		模拟加法减法
	反思
		学习内置的字符串转换
		strtol(c_str,return_error,base); 忽略前空格，base=0自动识别
		strtod(c_str,return_error); 返回浮点double
		atoi(c)
		atof(c)
		atol(c)
D题（STL-模拟）构造一个不重的数组
	解法
		合并包含的区间（去重） - set存下1到n，然后贪心的放数，遇到线段终点，把能够回收数，insert到set中
	反思
		区间去重的方法
			记录一个MX值，从左往右扫描即可
		模拟题目，经常wa，写着写着有很多BUG。
			提出解决方案：
			运用注释，在每一次想到思路的时候，写一个简单的样例TODO。
B题（贪心-手写排序）括号匹配数
	解法
		把字符变换成一个pair，左右括号数
		用一定方式排序后，就是最终排列，模拟计算答案即可
	反思
		手写排序
			// 因为相当于重载小于号
			// 所以，a在b的左边，当且近当a严格小于b
			return true 说明a小于b
		贪心
			少人过得题目，不可以DP，想不出数据结构
			也有可能就是贪心，通过制定排序规则，然后顺序取
G题（打表-出现次数）地推关系第i项
	解法
		1 - 分形结构 差分序列，可以应用阿贝尔变换
		2 - lowbit得出结论
```


### 第二场

```
这次训练：看题+迅速解题
A 期望，简单期望问题？每次都是独立的随机数，问随机数的和的期望，然后用分数取模表示 (n=15, rand=1e6)
B 统计，1-n全排列中，有多少符合func(1-n)=x， n<=200,x<=1e9， func定义为sigm(i->n)min(i-li,ri-i); n=200,x=1e9
	比ai大的元素，离他最近的一个的距离
C 图论，给一个可能不连通的无向图，询问需要多少士兵去走欧拉图，才能每个边恰好走过一次。 n=100000
D 博弈游戏，1-n的集合里，每次取一个数，并且删除这个数的所有因子。问谁会赢 n=500
E 构造，构造一个01组成的矩阵，给你一个判断是否存在四个角是1的矩形的算法，要求你hack掉它 2000个边长
F 统计，一个的矩阵，边长最多3000，要求每个格子都要涂为黑或白，问有多少种不同的涂法，使得完全是黑色的行至少有A行，列至少有B列
G 数据结构，给你1-n的排列b，和一个长度为n的全零数组a，对a区间加1，区间查询[ai.bi]
H 统计，有一个1e9个商店，每个商店都卖同样的10中商品，这10种商品重量为i*ai，问有多少种总重量，是可以通过奇数种方式购得的
I 数据结构，有一个奇怪线段树，它从[1-n]中随机选一个x，分成连个子树[1-x][x+1-n]，往复到自己节点，现在问，对于一段区间查询，期望的访问点数是多少（猜测对半分）
J 逆序对，每存在一个逆序对，你需要支出y元，你也可以交换相邻两个元素，这样需要支出x元，问最小支出
平均5分钟一道题，快的2-3分钟

解题顺序：
D博弈
	2，3，4，5，6 -> 先手必胜？ - WA
	nmd没写while，只输出了一次 - AC
J逆序对
	求出逆序对个数，交换两个相邻的元素，就会减少一组逆序对
	这个逆序对的个数最多n*n，所以会爆int ——> 狂wa不止
	因为有重复元素，所以要去重离散化
	因为有重复元素，所以算的是时候 要求val-1的前缀和 或者 (val+1,n)
	然后
		pbds的常数太高，会TLE
		线段树常数太高，会TLE
		用sort+unordered_map离散化，比直接用map+for离散化快很多480/889
	反思：
		首先，define int在TLE后，删除，就给爆int留下很大隐患
			以后删除define int后，要马上问问这道题会不会爆int
		其次，pbds，线段树等常数大的数据结构，不要在简单题用，容易被卡T
G线段树
	给一个排列b，每次在a中区间+1，每次查询区间和 求和a[i]/b[i]
	思路：
		非常相似于开根线段树（第一次实现
		记录mn，mx和sum，mn初始化为b[i]
		用sum记录质变
		用mx记录量变
		暴力递归，直到最后一层就可以了。
	反思：
		现场想出来很难，
		比如，它每次更新最小值，是加上b[r]
		和我一开始想的每次区间-1有点区别
		区间-1的话，可以少保存一个mx，每次查询最小值即可
```



### 第三场
```
- D题
	- 题意：
		问第k小的，phi(x) 为合数的数是什么 k <= 1e9
	- 思路
		直接手写判质数 和 __gcd 就可以了，不用找半天什么板子
		打表发现，只有12346不是合数，其他都是合数，完事
- L题
	- 题意
		给出三维长度，画出这个长方体
	- 思路
		观察模型特点，找到好写的画图方式
```

### 第四场
```
- A题
	数论，问第i个，kmagic数是什么
- B题
	简单数学，问n个不同数，有多少中取出至多m个数的方式。
	快速组合数 + 求和
- C题

```
## 2018 ICPC
### NANJING
```
题意
A题
	给你n堆个数为1的石子堆，然后，每次可以最多取连续下标的k个，问谁会赢
B题
	给你n个房子在x轴坐标，要建k个车站，使得 房子与最近车站距离之和最小
C题

```
## 2018 网络赛
### Nanjing
```
知识点观察，以及学习
- A题
	- 题意
		求 1*1! + 2*2! + ... + (n-1)*(n-1)! mod n 的值
	- 想法
		使用打表找规律吧
- B题
	- 题意
		给一个 n*m 的矩阵，把一些位置的1*1方格去掉，求还可以统计出多少完整的子矩阵
	- 想法
		先算全部的，然后O(N)容斥计算挖掉的
- C题
	
```


## 2019 多校
### 牛客第一场
```
J题 - finish
	- 题意
		给xyab，问组成的分数的大小关系，直接除一下通分一下(通分出了差错罚时+1）就AC
A题 - finish
	- 题意
		给a，b两个数组，问最长的合法前缀有多长，合法的定义是rmq(l,r)得到的下标都相等（l r的范围在前缀内）
F题 - finish by qdd
	- 题意
		给三个点，在三角形中取一个点，问max(三个小三角形面积)的期望*36。
	- 思路
		方法：这种*x的期望值，可以考虑直接求整个的值，然后*(1-x)，最多wa x次
		面积：直接用差积来算
E题 finish by qdd & temp06
	- 题意
		给n,m，表示n个AB和m个BA，统计构造字符串，长度为(n+m)*2，并且可以分成n个AB子序列，m个BA子序列
	- 思路
		考虑dp和组合数学
B题 - finish by HYX
	- 题意
		可以通过定积分的变形，wolframeaphla一下
		然后变成简单的N^2暴力
C题
	- 题意
		给n维空间内一个点(每维参数的绝对值都小于1)，然后求一个最近的一个点（保证这个点的每维参数小于1并且大于0，并且每维参数求和等于1）
	用分数表示这个最近距离
	想法：
		相加等于1，等于一个平面，然后求垂线距离
D题
	- 题意
		给n个m元组
		给一个k
		求 xor_sum(count(x)*3^x%mod) (x=0->2^k-1)
学到的东西
	叉积公式 求面积
		根据 重心的性质
		然后 面积的分块
	dp求括号序列方案数
		用矩阵关系，递推得到方案数
	期望-归一化-画图-猜测-重心（好性质）
	数学，打表-公式-> wolframealpha **** 多校的重点，还有oeis
		int (x) dx 0, inf		
```
### 牛客第六场
```
一水
	模拟
二水
	技能树
三水
	奇怪二分答案
四水
	16进制缩写
五水
	自补图构造
```
### 多校第一场
```
- 1001
	- 题意：
		有n个空格，m个限制条件 （100 - 100）
		空格可以填0-3这4种数字
		限制条件为 l-r 刚好有x个不同的数字
		问方案数，%99xxx
	- 思路
		通过dp[i][j][k][l] 的方式，统计方案数
		i,j,k,l 分别表示排序后，0-3的位置
- 1002 - finish by iphreetom
	- 题意
		0lr 求最大异或和
		1x 增加一个x到尾部
	- 思路
		线性基 + O（N）求区间抑或最大值
- 1005 - finish by iphreetom
	- 题意
		有n个点 (1e4)
		m条单向带权边
		求问，删去 权值和最小的边集合 使得，1-n的最短路边长
		问代价
	- 思路
		最短路树 + 网络流
		最短路树，即为最短路构成的图，去掉其余边
			但是，实际上，只需要把dis[v] == dis[u]+cost的边，取了就可以了
			因为1-n的最小割，不会受"其余树枝"的影响
- 1006
	给你一个字符串（2e5)
	p元，加一个字母
	q元，重复之前的子串
- 1008
	求n个点的，无向连通图，每个边属于一个简单环，有多少个方案
- 1009 - finish by iphreetom
	- 题意：
		给一个字符串，问子序列长度为k，并且满足用了l-r个某字母的
	- 思路：
		贪心优先取字典序较小的字母，问是否合法，每一位都这样判单即可
			用 queue 保存每一位字母出现的下标
			每次查询复杂度 26*26
- 1011
	n = 1e21
	求和1-n gcd(i^(1/3), i)
补题：
	1002 线性基
	1004 二分答案-直接-贪心
		思路1：
			直接贪心，暴力四行
	1005 网络流-最短路（重边）
	1009 贪心字符串
```
### 多校第二场
```
- A题
	- 题意：
		看不懂集合内的点是满足什么条件
- B题
	- 题意：
- C题
	- 题意：
- 1004题 double tree
	- 题意：

```
### 多校第四场
```
回顾
	第三场，感觉看题的数量很少，看懂的题目不多

	对于整个比赛的把握，被第一道签到题给卡住了。
	一直在想着怎么快速阶乘，但是实则是逆向思维

	第二题，求前缀不大于k的子序列长度，二分答案加上权值线段树check
	这个题目，一开始想着用贪心+优先队列，维护最大的m个
	但是狂wa不止
	最后，更新思路，重新写线段树才能过，并且其中的BUG非常多，
	调试了非常久

	接下来，有一个 【k个上升子序列求和】的题目， 和【分成k段，最大值最小】（需要二分答案+dp+权值线段树维护）的题目，还开了一道

第四场
题意：
1001：最小生成树
	n个点，每两个点之间的权值是，u和v的与。
	求最小生成树
1003: n个数，分成k组
	dls说，用手推了推分组方法，写了几组就会了3的分法，剩下的可以往返的放，就可以做出来了
1007：k数码问题
	结论是 除了0以外的数字的逆序对个数的奇偶性质，要和0离最后一行的奇偶性相同
1008：问区间中，使得绝对值离p的个数小于k的最小数是什么
	二分答案+可持久化线段树（每次多开logn个节点的那种）
1010：求所有质因子的最小的指数
	通过讨论这个最小值的范围，
	可以优化到n^(1/5)，暴力枚举+讨论即可


todolist
	记录N数码问题的结论
	收一个，大素数板子
	补题：关于平均取数的方法
	补题：关于斜率DP的求法
```
### 多校第五场
```
回顾
	前一场，后期两个多小时，
	对着那个构造题目调试，但是没有做出来
		贪心，构造，这类型的题目wa了，要在填补旧坑和寻求新思路中寻找平衡。
	还有，补题和补板子，在赛后要进行
		比如要把QDD的板子，改成自己喜欢用的模样
题意
	1002
		求两个序列重排序后，能够构成的异或字典序最小的序列
		（用字典树，匹配两个最小值即可）
	1004
		队友过的没做
	1005
		给你20的全排列，问它的查分数组中的第k小
		打表找规律，因为k很小，所以可以暴力去做，直接处理出前10000（k）小的排列，然后输出第k小
	1006
		EXKMP模板题，求模式串S的每一个后缀，对于匹配串T的最长公共前缀
	1007
		问全排列中，能够使得X开头Y结尾，并且差分数组中，元素绝对值不超过2的排列有多少种
			转换问题，变成在1-N中，每次可以跳1-2格，每个格子刚好跳过一次，有多少种跳法，可以从X到Y
			然后，发现，只有长度为4的一段会有两种跳法，这个时候，预处理每个长度的跳法，然后判断x的左边和y的右边能不能跳完
```
### 多校第六场
```

```