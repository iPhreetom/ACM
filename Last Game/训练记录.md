# 训练记录

## 2018多校

### 第一场

```
A题（打表）分割数，乘积最大
	解法
		通过打表发现，只有xxx和xx(2x)两种答案分布，所以直接问能不能%3或%4即可。
	反思
		打表 改进
			去除无效的信息，无解的直接不输出。
			尽量一行打完，用分隔符隔开，容易看出规律。
				第一个是第几个数，接下来是信息。
			压缩信息。
C题（贪心）三角形构造
	解法
		排序后，从上往下，从左往右取点即可
	反思
		写程序的时候，要分析自己要什么，怎么样实现比较简单
			比如，最后的答案输出，用queue和用计数cnt%3，都可以实现
                但是会写很多if else，很难看
                但是，如果我只是想要顺序输出，三个一组，那么塞进数组里，i+=3即可
			比如，发现直接用vector排序就能够轻松写完，不需要离散化或者Map一类的操作
K题（模拟）时区变换
	解法
		模拟加法减法
	反思
		学习内置的字符串转换
		strtol(c_str,return_error,base); 忽略前空格，base=0自动识别
		strtod(c_str,return_error); 返回浮点double
		atoi(c)
		atof(c)
		atol(c)
D题（STL-模拟）构造一个不重的数组
	解法
		合并包含的区间（去重） - set存下1到n，然后贪心的放数，遇到线段终点，把能够回收数，insert到set中
	反思
		区间去重的方法
			记录一个MX值，从左往右扫描即可
		模拟题目，经常wa，写着写着有很多BUG。
			提出解决方案：
			运用注释，在每一次想到思路的时候，写一个简单的样例TODO。
B题（贪心-手写排序）括号匹配数
	解法
		把字符变换成一个pair，左右括号数
		用一定方式排序后，就是最终排列，模拟计算答案即可
	反思
		手写排序
			// 因为相当于重载小于号
			// 所以，a在b的左边，当且近当a严格小于b
			return true 说明a小于b
		贪心
			少人过得题目，不可以DP，想不出数据结构
			也有可能就是贪心，通过制定排序规则，然后顺序取
G题（打表-出现次数）地推关系第i项
	解法
		1 - 分形结构 差分序列，可以应用阿贝尔变换
		2 - lowbit得出结论
```


### 第二场

```
这次训练：看题+迅速解题
A 期望，简单期望问题？每次都是独立的随机数，问随机数的和的期望，然后用分数取模表示 (n=15, rand=1e6)
B 统计，1-n全排列中，有多少符合func(1-n)=x， n<=200,x<=1e9， func定义为sigm(i->n)min(i-li,ri-i); n=200,x=1e9
	比ai大的元素，离他最近的一个的距离
C 图论，给一个可能不连通的无向图，询问需要多少士兵去走欧拉图，才能每个边恰好走过一次。 n=100000
D 博弈游戏，1-n的集合里，每次取一个数，并且删除这个数的所有因子。问谁会赢 n=500
E 构造，构造一个01组成的矩阵，给你一个判断是否存在四个角是1的矩形的算法，要求你hack掉它 2000个边长
F 统计，一个的矩阵，边长最多3000，要求每个格子都要涂为黑或白，问有多少种不同的涂法，使得完全是黑色的行至少有A行，列至少有B列
G 数据结构，给你1-n的排列b，和一个长度为n的全零数组a，对a区间加1，区间查询[ai.bi]
H 统计，有一个1e9个商店，每个商店都卖同样的10中商品，这10种商品重量为i*ai，问有多少种总重量，是可以通过奇数种方式购得的
I 数据结构，有一个奇怪线段树，它从[1-n]中随机选一个x，分成连个子树[1-x][x+1-n]，往复到自己节点，现在问，对于一段区间查询，期望的访问点数是多少（猜测对半分）
J 逆序对，每存在一个逆序对，你需要支出y元，你也可以交换相邻两个元素，这样需要支出x元，问最小支出
平均5分钟一道题，快的2-3分钟

解题顺序：
D博弈
	2，3，4，5，6 -> 先手必胜？ - WA
	nmd没写while，只输出了一次 - AC
J逆序对
	求出逆序对个数，交换两个相邻的元素，就会减少一组逆序对
	这个逆序对的个数最多n*n，所以会爆int ——> 狂wa不止
	因为有重复元素，所以要去重离散化
	因为有重复元素，所以算的是时候 要求val-1的前缀和 或者 (val+1,n)
	然后
		pbds的常数太高，会TLE
		线段树常数太高，会TLE
		用sort+unordered_map离散化，比直接用map+for离散化快很多480/889
	反思：
		首先，define int在TLE后，删除，就给爆int留下很大隐患
			以后删除define int后，要马上问问这道题会不会爆int
		其次，pbds，线段树等常数大的数据结构，不要在简单题用，容易被卡T
G线段树
	给一个排列b，每次在a中区间+1，每次查询区间和 求和a[i]/b[i]
	思路：
		非常相似于开根线段树（第一次实现
		记录mn，mx和sum，mn初始化为b[i]
		用sum记录质变
		用mx记录量变
		暴力递归，直到最后一层就可以了。
	反思：
		现场想出来很难，
		比如，它每次更新最小值，是加上b[r]
		和我一开始想的每次区间-1有点区别
		区间-1的话，可以少保存一个mx，每次查询最小值即可
```



## 2019多校

### 牛客第一场
```
J题 - finish
	- 题意
		给xyab，问组成的分数的大小关系，直接除一下通分一下(通分出了差错罚时+1）就AC
A题 - finish
	- 题意
		给a，b两个数组，问最长的合法前缀有多长，合法的定义是rmq(l,r)得到的下标都相等（l r的范围在前缀内）
F题 - finish by qdd
	- 题意
		给三个点，在三角形中取一个点，问max(三个小三角形面积)的期望*36。
	- 思路
		方法：这种*x的期望值，可以考虑直接求整个的值，然后*(1-x)，最多wa x次
		面积：直接用差积来算
E题 finish by qdd & temp06
	- 题意
		给n,m，表示n个AB和m个BA，统计构造字符串，长度为(n+m)*2，并且可以分成n个AB子序列，m个BA子序列
	- 思路
		考虑dp和组合数学
B题 - finish by HYX
	- 题意
		可以通过定积分的变形，wolframeaphla一下
		然后变成简单的N^2暴力
C题
	- 题意
		给n维空间内一个点(每维参数的绝对值都小于1)，然后求一个最近的一个点（保证这个点的每维参数小于1并且大于0，并且每维参数求和等于1）
	用分数表示这个最近距离
	想法：
		相加等于1，等于一个平面，然后求垂线距离
D题
	- 题意
		给n个m元组
		给一个k
		求 xor_sum(count(x)*3^x%mod) (x=0->2^k-1)
学到的东西
	叉积公式 求面积
		根据 重心的性质
		然后 面积的分块
	dp求括号序列方案数
		用矩阵关系，递推得到方案数
	期望-归一化-画图-猜测-重心（好性质）
	数学，打表-公式-> wolframealpha **** 多校的重点，还有oeis
		int (x) dx 0, inf		
```

